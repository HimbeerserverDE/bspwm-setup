#! /bin/bash

bspc wm -l ~/.config/bspwm/intro.canvas
~/.config/bspwm/intro.rules

WINIT_X11_SCALE_FACTOR=1.0 alacritty -e musikbox -e -p ~/.wmintro_audio &
WINIT_X11_SCALE_FACTOR=1.0 alacritty -e sh -c 'cava | lolcat' &
WINIT_X11_SCALE_FACTOR=1.0 alacritty -e slw &
WINIT_X11_SCALE_FACTOR=1.0 alacritty -e neo-matrix -D &
WINIT_X11_SCALE_FACTOR=1.0 alacritty -e tty-clock -srDB &

while [ -z "$(pgrep -x musikbox)" ]; do sleep 1; done
while [ -n "$(pgrep -x musikbox)" ]; do sleep 1; done

bspc rule -r *
killall alacritty

#! /bin/bash

bspc wm -l ~/.config/bspwm/intro.canvas
~/.config/bspwm/intro.rules

WINIT_X11_SCALE_FACTOR=1.0 alacritty -e musikbox -e -p ~/.wmintro_audio &
sleep 0.1

WINIT_X11_SCALE_FACTOR=1.0 alacritty -e sh -c 'cava | lolcat' &
sleep 0.1

WINIT_X11_SCALE_FACTOR=1.0 alacritty -e slw &
sleep 0.1

WINIT_X11_SCALE_FACTOR=1.0 alacritty -e neo-matrix -D &
sleep 0.1

WINIT_X11_SCALE_FACTOR=1.0 alacritty -e tty-clock -srDB &
sleep 0.1

while [ -n "$(pgrep -x musikbox)" ]; do sleep 1; done

bspc rule -r *
killall alacritty
